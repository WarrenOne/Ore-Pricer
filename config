{"slots":{"0":{"name":"container","type":{"events":[],"methods":[]}},"1":{"name":"screen","type":{"events":[],"methods":[]}},"2":{"name":"button","type":{"events":[],"methods":[]}},"3":{"name":"dbank","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"dbank.setStringValue(\"ItemsList\",container.getItemsList())","filter":{"args":[],"signature":"storageAcquired()","slotKey":"0"},"key":"0"},{"code":"container.acquireStorage()","filter":{"args":[],"signature":"pressed()","slotKey":"2"},"key":"1"},{"code":"unit.hide()\nscreen.activate()\nitems = {} \n\nBauxite_Market_Value = 24 --export: Local value in h/L\nCoal_Market_Value = 24 --export: Local value in h/L\nQuartz_Market_Value = 24 --export: Local value in h/L\nHematite_Market_Value = 24 --export: Local value in h/L\nNatron_Market_Value = 50 --export: Local value in h/L\nChromite_Market_Value = 50 --export: Local value in h/L\nLimestone_Market_Value = 50 --export: Local value in h/L\nMalachite_Market_Value = 50 --export: Local value in h/L\nGarnierite_Market_Value = 90 --export: Local value in h/L\nAcanthite_Market_Value = 120 --export: Local value in h/L\nPetalite_Market_Value = 120 --export: Local value in h/L\nPyrite_Market_Value = 120 --export: Local value in h/L\nCryolite_Market_Value = 550 --export: Local value in h/L\nCobaltite_Market_Value = 350 --export: Local value in h/L\nKolbeckite_Market_Value = 420 --export: Local value in h/L\nGold_Nuggets_Market_Value = 630 --export: Local value in h/L\nColumbite_Market_Value = 450 --export: Local value in h/L\nVanadinite_Market_Value = 950 --export: Local value in h/L\nIllmenite_Market_Value = 1500 --export: Local value in h/L\nRhodonite_Market_Value = 420 --export: Local value in h/L\nThoramine_Market_Value = 0 --export: Local value in h/L\n\nfunction isOre(name)\n    if name == \"Bauxite\" or\n        name == \"Coal\" or\n        name == \"Quartz\" or\n        name == \"Hematite\" or\n        name == \"Natron\" or\n        name == \"Chromite\" or\n        name == \"Limestone\" or\n        name == \"Malachite\" or\n        name == \"Garnierite\" or\n        name == \"Acanthite\" or\n        name == \"Petalite\" or\n        name == \"Pyrite\" or\n        name == \"Cryolite\" or\n        name == \"Cobaltite\" or\n        name == \"Kolbeckite\" or\n        name == \"Gold Nuggets\" or\n        name == \"Columbite\" or\n        name == \"Vanadinite\" or\n        name == \"Illmenite\" or\n        name == \"Rhodonite\" or\n        name == \"Thoramine\" then\n        return true\n        else return false\n        end\n    end\n\nfunction price(ore)\n    if ore == \"Bauxite\" then return Bauxite_Market_Value elseif\n        ore == \"Coal\" then return Coal_Market_Value elseif\n        ore == \"Quartz\" then return Quartz_Market_Value elseif\n        ore == \"Hematite\" then return Hematite_Market_Value elseif\n        ore == \"Natron\" then return Natron_Market_Value elseif\n        ore == \"Chromite\" then return Chromite_Market_Value elseif\n        ore == \"Limestone\" then return Limestone_Market_Value elseif\n        ore == \"Malachite\" then return Malachite_Market_Value elseif\n        ore == \"Garnierite\" then return Garnierite_Market_Value elseif\n        ore == \"Acanthite\" then return Acanthite_Market_Value elseif\n        ore == \"Petalite\" then return Petalite_Market_Value elseif\n        ore == \"Pyrite\" then return Pyrite_Market_Value elseif\n        ore == \"Cryolite\" then return Cryolite_Market_Value elseif\n        ore == \"Cobaltite\" then return Cobaltite_Market_Value elseif\n        ore == \"Kolbeckite\" then return Kolbeckite_Market_Value elseif\n        ore == \"Gold Nuggets\" then return Gold_Nuggets_Market_Value elseif\n        ore == \"Columbite\" then return Columbite_Market_Value elseif\n        ore == \"Vanadinite\" then return Vanadinite_Market_Value elseif\n        ore == \"Illmenite\" then return Illmenite_Market_Value elseif\n        ore == \"Rhodonite\" then return Rhodonite_Market_Value elseif\n        ore == \"Thoramine\" then return Thoramine_Market_Value \n        end\n    end\n\nfunction ScreenRefresh()\n\nItemsList = dbank.getStringValue(\"ItemsList\")\ndecoded = json.decode(ItemsList)\ntotal = 0\nscreenHTML = [[\n<style>\nh1 {text-align:center; width:50vw; transform:translate(25vw,-10vh); background-color:rgba(125,50,255,.6); padding:20px; border-radius:10px;}\ntable {text-align:center; width:80vw; transform:translate(10vw,-10vh);\n\t}\ntable,th,td {border: 3.2px solid white; border-radius:20px; border-collapse:separate; border-spacing:6vw 2vh;}\nth {font-size:6vh; background-color:rgba(100,100,255,.8); }\ntd {text-align:center; font-size:4vh; font-weight:900; color:black; background-color:white}\n</style>\n\n<br> <br> <br> <br> <br> <br> <br> <br>\n\n<div style=\"padding-bottom:80px;\">\n<h1 style=\"font-size:10vh;\"> ORE PRICER </h1>\n\n<table style=\"border: 0px solid black;\">\n<tr> <th> Ore </th> <th> Volume </th> <th> Value </th> </tr>\n]] \n\n    for entry,itemData in ipairs(decoded) do\n    if isOre(itemData.name) then\n    screenHTML = screenHTML..\n    [[<tr> <td>]]..itemData[\"name\"]..[[</td> <td>]]..math.floor(itemData[\"quantity\"])..[[</td> <td> ]]..price(itemData.name)*math.floor(itemData.quantity)..[[ </td> </tr>]]\n        total = total + price(itemData.name)*math.floor(itemData.quantity)   \n        end\n        end\n    \nscreenHTML = screenHTML..[[</table> </div> <h2 style=\"border-left:3vh solid white; border-top:1.5vh solid white; border-radius:30px; padding:3vh; font-size:5vh; text-align:right; position:fixed; bottom:3vh; right:2vw; background-color:rgb(51,153,255);\">\n    Total: ]]..total..[[</h2>]]\nscreen.setHTML(screenHTML)\n    end\n\n----------------------------------------------\n\ncontainer.acquireStorage()\nunit.setTimer(\"screenUpdate\",1)\n ","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"2"},{"code":"ScreenRefresh()\n--system.print(\"screen refreshed\")","filter":{"args":[{"value":"screenUpdate"}],"signature":"tick(timerId)","slotKey":"-1"},"key":"4"},{"code":"screen.setCenteredText(\"Ore Pricer Offline\")","filter":{"args":[],"signature":"stop()","slotKey":"-1"},"key":"5"}],"methods":[],"events":[]}